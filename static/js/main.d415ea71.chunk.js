(this["webpackJsonpbank-of-react"]=this["webpackJsonpbank-of-react"]||[]).push([[0],{28:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),r=n(20),s=n.n(r),i=(n(28),n(16)),o=n(8),u=n(9),b=n(10),l=n(11),d=n(4),j=n(2),h=n(0),O=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:["Balance: ",this.props.accountBalance]})}}]),n}(c.Component),f=O,p=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:"https://picsum.photos/200/200",alt:"bank"}),Object(h.jsx)("h1",{children:"Bank of React"}),Object(h.jsx)(d.b,{to:"/userProfile",children:"User Profile"}),Object(h.jsx)("br",{}),Object(h.jsx)(d.b,{to:"/login",children:"Login"}),Object(h.jsx)("br",{}),Object(h.jsx)(d.b,{to:"/credits",children:"Credits"}),Object(h.jsx)("br",{}),Object(h.jsx)(d.b,{to:"/debits",children:"Debits"}),Object(h.jsx)(f,{accountBalance:this.props.accountBalance})]})}}]),n}(c.Component),x=p,m=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"User Profile"}),Object(h.jsxs)("div",{children:["Username: ",this.props.userName]}),Object(h.jsxs)("div",{children:["Member Since: ",this.props.memberSince]}),Object(h.jsx)(d.b,{to:"/",children:"Return to Home"})]})}}]),n}(c.Component),v=m,C=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).handleChange=function(e){var n=Object(i.a)({},t.state.user),c=e.target.name,a=e.target.value;n[c]=a,t.setState({user:n})},t.handleSubmit=function(e){e.preventDefault(),t.props.mockLogIn(t.state.user),t.setState({redirect:!0})},t.state={user:{userName:"",password:""},redirect:!1},t}return Object(u.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(h.jsx)(j.a,{to:"/userProfile"}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"userName",children:"User Name"}),Object(h.jsx)("input",{type:"text",name:"userName",onChange:this.handleChange,value:this.state.user.userName})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{type:"password",name:"password"})]}),Object(h.jsx)("button",{children:"Log In"})]})]})}}]),n}(c.Component),g=n(12),S=function(t){var e=t.addDebit,n=t.calculateDebit,a=t.refreshBalance,r=t.totalDebit,s=t.totalCredit,i=t.balance,o=t.debits,u=Object(c.useState)(""),b=Object(g.a)(u,2),l=b[0],j=b[1],O=Object(c.useState)(0),f=Object(g.a)(O,2),p=f[0],x=f[1],m=Object(c.useState)(!1),v=Object(g.a)(m,2),C=v[0],S=v[1];Object(c.useEffect)((function(){console.log("calculateDebit: ",n()),console.log("totalDebit:",r)}),[C]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Debits"}),Object(h.jsx)(d.b,{to:"/",children:"back"}),Object(h.jsxs)("h4",{children:["Balance: ",i]}),Object(h.jsxs)("h4",{children:["Total Debit: ",r," | Total Credit: ",s]}),o&&Object(h.jsx)("ul",{id:"debitsList",children:null===o||void 0===o?void 0:o.map((function(t){return Object(h.jsxs)("li",{children:[" ",t.amount," ",t.description," ",t.date]},t.id)}))}),a&&n&&Object(h.jsxs)("form",{onSubmit:e,children:[Object(h.jsx)("input",{type:"text",name:"description",onChange:function(t){j(t.target.value)}}),Object(h.jsx)("input",{type:"number",name:"amount",onChange:function(t){x(parseFloat(t.target.value).toFixed(2))}}),Object(h.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),e(l,p),n(),a(),S(!C)},children:"Add Debit"})]})]})},D=function(t){var e=t.addCredit,n=t.calculateCredit,a=t.refreshBalance,r=t.totalDebit,s=t.totalCredit,i=t.balance,o=t.credits,u=Object(c.useState)(""),b=Object(g.a)(u,2),l=b[0],j=b[1],O=Object(c.useState)(0),f=Object(g.a)(O,2),p=f[0],x=f[1],m=Object(c.useState)(!1),v=Object(g.a)(m,2),C=v[0],S=v[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Credits"}),Object(h.jsx)(d.b,{to:"/",children:"back"}),Object(h.jsxs)("h4",{children:["Balance: ",i]}),Object(h.jsxs)("h4",{children:["Total Debit: ",r," | Total Credit: ",s]}),o&&Object(h.jsx)("ul",{id:"creditsList",children:null===o||void 0===o?void 0:o.map((function(t){return Object(h.jsxs)("li",{children:[" ",t.amount," ",t.description," ",t.date]},t.id)}))}),Object(h.jsxs)("form",{onSubmit:e,children:[Object(h.jsx)("input",{type:"text",name:"description",onChange:function(t){j(t.target.value)}}),Object(h.jsx)("input",{type:"number",name:"amount",onChange:function(t){x(t.target.value),console.log(t.target.value)}}),Object(h.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),e(l,p),n(),a(),S(!C)},children:"Add Credit"})]})]})},B=n(39),k=function(t){Object(b.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).addCredit=function(e,n){t.state.credits.push({id:Object(B.a)(),description:e,amount:n,date:(new Date).toISOString()})},t.addDebit=function(e,n){t.state.debits.push({id:Object(B.a)(),description:e,amount:n,date:(new Date).toISOString()})},t.calculateDebit=function(){if(t.state.debits){for(var e=0,n=0;n<t.state.debits.length;n++)e+=parseFloat(t.state.debits[n].amount);return t.setState({totalDebit:e}),e}return 0},t.calculateCredit=function(){if(t.state.credits){for(var e=0,n=0;n<t.state.credits.length;n++)e+=parseFloat(t.state.credits[n].amount);return t.setState({totalCredit:e}),e}return 0},t.refreshBalance=function(){t.setState({accountBalance:(t.calculateCredit()-t.calculateDebit()).toFixed(2)})},t.mockLogIn=function(e){var n=Object(i.a)({},t.state.currentUser);n.userName=e.userName,t.setState({currentUser:n})},t.state={currentUser:{userName:"Joe Smith",memberSince:"07/23/96"}},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("https://moj-api.herokuapp.com/debits").then((function(e){return e.json().then((function(e){t.setState({debits:e}),t.setState({totalDebit:t.calculateDebit()}),console.log(t.state),t.state.credits&&t.state.debits&&t.refreshBalance()}))})),fetch("https://moj-api.herokuapp.com/credits").then((function(e){return e.json().then((function(e){t.setState({credits:e}),t.setState({totalCredit:t.calculateCredit()}),t.state.credits&&t.state.debits&&t.refreshBalance()}))}))}},{key:"render",value:function(){var t=this;return Object(h.jsx)(d.a,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(x,{accountBalance:t.state.accountBalance})}}),Object(h.jsx)(j.b,{exact:!0,path:"/userProfile",render:function(){return Object(h.jsx)(v,{userName:t.state.currentUser.userName,memberSince:t.state.currentUser.memberSince})}}),Object(h.jsx)(j.b,{exact:!0,path:"/login",render:function(){return Object(h.jsx)(C,{user:t.state.currentUser,mockLogIn:t.mockLogIn})}}),Object(h.jsx)(j.b,{exact:!0,path:"/debits",render:function(){return Object(h.jsx)(S,{balance:t.state.accountBalance,refreshBalance:t.refreshBalance,calculateDebit:t.calculateDebit,totalDebit:t.state.totalDebit,totalCredit:t.state.totalCredit,debits:t.state.debits})}}),Object(h.jsx)(j.b,{exact:!0,path:"/credits",render:function(){return Object(h.jsx)(D,{balance:t.state.accountBalance,addCredit:t.addCredit,refreshBalance:t.refreshBalance,calculateCredit:t.calculateCredit,totalDebit:t.state.totalDebit,totalCredit:t.state.totalCredit,credits:t.state.credits})}})]})})}}]),n}(c.Component),y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),r(t),s(t)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),y()}},[[38,1,2]]]);
//# sourceMappingURL=main.d415ea71.chunk.js.map